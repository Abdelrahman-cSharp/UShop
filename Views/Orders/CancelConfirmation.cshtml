@model UShop.Models.Order
@{
	ViewData["Title"] = "Cancel Order";
}

<div class="container">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<div class="card border-warning">
				<div class="card-header bg-warning text-dark">
					<h4 class="mb-0">⚠️ Cancel Order Confirmation</h4>
				</div>
				<div class="card-body">
					<div class="alert alert-warning">
						<strong>Are you sure you want to cancel this order?</strong>
						<p class="mb-0 mt-2">This action cannot be undone.</p>
					</div>

					<div class="order-summary mb-4">
						<h5>Order Details:</h5>
						<ul class="list-unstyled">
							<li><strong>Order #:</strong> @Model.Id</li>
							<li><strong>Customer:</strong> @Model.Customer?.FullName</li>
							<li><strong>Order Date:</strong> @Model.OrderDate.ToString("dd/MM/yyyy")</li>
							<li><strong>Status:</strong> <span class="badge bg-info">@Model.Status</span></li>
							<li><strong>Total Amount:</strong> <span class="fw-bold">@Model.TotalAmount.ToString("C")</span></li>
						</ul>
					</div>

					<div class="order-items mb-4">
						<h6>Items in this order:</h6>
						<div class="row">
							@foreach (var item in Model.Items)
							{
								<div class="col-md-6 mb-2">
									<div class="d-flex align-items-center">
										<img src="@item.Product?.ImageUrl"
												 alt="@item.Product?.Name"
												 class="me-2 rounded"
												 style="width: 50px; height: 50px; object-fit: cover;">
										<div>
											<div class="fw-bold">@item.Product?.Name</div>
											<small class="text-muted">Qty: @item.Quantity × @item.UnitPrice.ToString("C")</small>
										</div>
									</div>
								</div>
							}
						</div>
					</div>

					<div class="d-flex justify-content-between">
						<a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-secondary">
							← Back to Order Details
						</a>
						<form asp-action="Cancel" method="post" class="d-inline">
							<input type="hidden" name="id" value="@Model.Id" />
							<button type="submit" class="btn btn-danger">
								Yes, Cancel Order
							</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>