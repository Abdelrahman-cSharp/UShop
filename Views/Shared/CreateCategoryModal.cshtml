@using UShop.Models
@model Category

<!-- Add Category Button -->
<button type="button"
		class="btn btn-ushop"
		data-bs-toggle="modal"
		data-bs-target="#createCategoryModal">
	<i class="fa fa-plus"></i> Add Category
</button>

<!-- Modal -->
<div class="modal fade" id="createCategoryModal" tabindex="-1" aria-labelledby="createCategoryModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content fs-6">

			<!-- Header -->
			<div class="modal-header">
				<h2 class="modal-title fs-5" id="createCategoryModalLabel">Create New Category</h2>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<!-- Body with full UI from your original page -->
			<div class="modal-body">
				@* Success & Error Messages *@
				@if (TempData?["SuccessMessage"] != null)
				{
					<div class="alert alert-success alert-dismissible fade show" role="alert">
						@TempData["SuccessMessage"]
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				}
				@if (TempData?["ErrorMessage"] != null)
				{
					<div class="alert alert-danger alert-dismissible fade show" role="alert">
						@TempData["ErrorMessage"]
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				}

				<form asp-controller="Categories" asp-action="Create" method="post" enctype="multipart/form-data">
					<div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

					<div class="row">
						<div class="col-md-8">
							<div class="form-group mb-3">
								<label asp-for="Name" class="form-label"></label>
								<input asp-for="Name" class="form-control" placeholder="Enter category name" />
								<span asp-validation-for="Name" class="text-danger"></span>
							</div>

							<div class="form-group mb-3">
								<label asp-for="Description" class="form-label"></label>
								<textarea asp-for="Description" class="form-control" rows="4"
										  placeholder="Enter category description (optional)"></textarea>
								<span asp-validation-for="Description" class="text-danger"></span>
							</div>
						</div>

						<div class="col-md-4">
							<div class="form-group mb-3">
								<label asp-for="ImageFile" class="form-label">Upload Category Image</label>
								<input asp-for="ImageFile" type="file" class="form-control" accept="image/*" />
								<span asp-validation-for="ImageFile" class="text-danger"></span>
								<div class="form-text">Choose an image file (JPG, PNG, etc.)</div>
							</div>
						</div>
					</div>

					<div class="form-group mt-4 text-end">
						<button type="submit" class="btn btn-ushop me-2">Create Category</button>
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}
