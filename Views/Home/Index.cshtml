@model List<Category>
@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_WelcomeLayout.cshtml";
}

<!-- Hero Section -->
<section class="hero-section">
    <div id="particles-js"></div>

    <div class="morphing-shape" style="width: 200px; height: 200px; top: 10%; left: 5%; animation-delay: 0s;"></div>
    <div class="morphing-shape" style="width: 150px; height: 150px; top: 60%; right: 10%; animation-delay: 2s;"></div>
    <div class="morphing-shape" style="width: 100px; height: 100px; bottom: 20%; left: 20%; animation-delay: 4s;"></div>

    <div class="wave-bg"></div>

    <!-- Floating Products -->
    <div class="floating-products">
        <div class="floating-product product-1 glow-on-hover magnetic" data-product="glasses">
            <div style="font-size: 2em; margin-bottom: 10px;">👓</div>
            <h4>GLASSES</h4>
            <p style="color: #ff4757; font-weight: bold;">$299</p>
        </div>

        <div class="floating-product product-2 glow-on-hover magnetic" data-product="watches">
            <div style="font-size: 2em; margin-bottom: 10px;">⌚</div>
            <h4>WATCHES</h4>
            <p style="color: #ff4757; font-weight: bold;">$199</p>
        </div>

        <div class="floating-product product-3 glow-on-hover magnetic" data-product="food">
            <div style="font-size: 2em; margin-bottom: 10px;">🥬</div>
            <h4>FRESH FOOD</h4>
            <p style="color: #ff4757; font-weight: bold;">$29</p>
        </div>

        <div class="floating-product product-4 glow-on-hover magnetic" data-product="fashion">
            <div style="font-size: 2em; margin-bottom: 10px;">👔</div>
            <h4>FASHION</h4>
            <p style="color: #ff4757; font-weight: bold;">$89</p>
        </div>

        <div class="floating-product product-5 glow-on-hover magnetic" data-product="beauty">
            <div style="font-size: 2em; margin-bottom: 10px;">💄</div>
            <h4>BEAUTY</h4>
            <p style="color: #ff4757; font-weight: bold;">$49</p>
        </div>

        <div class="floating-product product-6 glow-on-hover magnetic" data-product="bags">
            <div style="font-size: 2em; margin-bottom: 10px;">🎒</div>
            <h4>BAGS</h4>
            <p style="color: #ff4757; font-weight: bold;">$149</p>
        </div>
    </div>

    <!-- Hero Content -->
    <div class="hero-content">
        <h1>USHOP</h1>
        <p class="typing-text" id="typingText">Your Ultimate Shopping Destination</p>
        <p style="font-size: 1.2em; margin-bottom: 40px;" id="subText">Everything You Need, All in One Place</p>

        <div class="cta-buttons">
            <a href="#categories" class="btn btn-primary magnetic" id="startShoppingBtn">Start Shopping</a>
            <a asp-controller="Home" asp-action="Deals" class="btn btn-secondary magnetic" id="viewDealsBtn">View Deals</a>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section" id="categories">
    <div class="container">
        <h2 class="section-title">Shop by Category</h2>

        <div class="categories-grid">
            @if (Model != null && Model.Any())
            {
                @foreach (var category in Model)
                {
                    <div class="category-card magnetic glow-on-hover" data-category="@category.Name.ToLower()">
                       <a asp-controller="Product" asp-action="ByCategory"
                       asp-route-categoryId="@category.Id">
                        <span class="category-icon">
                            @switch (category.Name.ToLower())
                            {
                                case "fashion":
                                case "clothes":
                                    @:👔
                                    break;
                                case "electronics":
                                case "electronic":
                                    @:📱
                                    break;
                                case "home":
                                case "home & living":
                                case "home living":
                                    @:🏠
                                    break;
                                case "sports":
                                case "gaming":
                                case "sports & gaming":
                                case "sports gaming":
                                    @:🎮
                                    break;
                                case "beauty":
                                case "cosmetics":
                                    @:💄
                                    break;
                                case "bags":
                                case "accessories":
                                    @:🎒
                                    break;
                                case "watches":
                                case "watch":
                                    @:⌚
                                    break;
                                case "glasses":
                                case "eyewear":
                                    @:👓
                                    break;
                                case "food":
                                case "grocery":
                                    @:🥬
                                    break;
                                default:
                                    @:🛍️
                                    break;
                            }
                        </span>
                        <h3>@category.Name</h3>
                        <p>@(category.Description ?? "Discover amazing products")</p>
                        </a>
                    </div>
                }
            }
            else
            {
                <!-- Default categories if no data from database -->
                <div class="category-card magnetic glow-on-hover" data-category="fashion">
                    <span class="category-icon">👔</span>
                    <h3>Fashion</h3>
                    <p>Trendy clothes for men and women</p>
                </div>

                <div class="category-card magnetic glow-on-hover" data-category="electronics">
                    <span class="category-icon">📱</span>
                    <h3>Electronics</h3>
                    <p>Latest gadgets and technology</p>
                </div>

                <div class="category-card magnetic glow-on-hover" data-category="home">
                    <span class="category-icon">🏠</span>
                    <h3>Home & Living</h3>
                    <p>Beautiful items for your home</p>
                </div>

                <div class="category-card magnetic glow-on-hover" data-category="sports">
                    <span class="category-icon">🎮</span>
                    <h3>Sports & Gaming</h3>
                    <p>Sports equipment and gaming gear</p>
                </div>
            }
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // عد تنازلي وتأثيرات أخرى
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loader after page load
            setTimeout(function() {
                const loader = document.getElementById('loader');
                if (loader) {
                    loader.style.display = 'none';
                }
            }, 2000);

            // Add click events to category cards
            const categoryCards = document.querySelectorAll('.category-card');
            categoryCards.forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    console.log('Category clicked:', category);
                    // يمكنك إضافة navigation logic هنا
                });
            });

            // Floating products click events
            const floatingProducts = document.querySelectorAll('.floating-product');
            floatingProducts.forEach(product => {
                product.addEventListener('click', function() {
                    const productType = this.getAttribute('data-product');
                    console.log('Product clicked:', productType);
                    // يمكنك إضافة product navigation logic هنا
                });
            });
        });
    </script>
}